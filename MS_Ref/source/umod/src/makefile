#
# Makefile for evaluation
#
#############################################################################
# Makefile for building: umod.a
# Generated by manual Nov. 1 2007
# Project: umod.mcp
# Template: lib
#############################################################################

####### Compiler, tools and options
ASM        = armasm
#for arm7
AFLAGS   = -keep -bi -checkreglist -g -apcs /swst

CC         = tcc
CPP        = tcpp
DEFINES    = 
OPTFLAGS   = -fpu None -O2 -Otime -bi -g+ -apcs /interwork/swst -cpu ARM926EJ-S -fy -Wb -D_RTOS -D_DEBUG -D_UMOD_SC8800H_
WARNFLAGS  = -Wall
DEBUGFLAGS = 
CFLAGS     = $(DEFINES) $(OPTFLAGS) $(WARNFLAGS) $(DEBUGFLAGS)
AR         = armar
ARFLAGS    = -r
LINK       = armlink
LFLAGS     =

#linux systmem commands
COPY          = cp
COPY_FILE     = $(COPY)
COPY_DIR      = $(COPY) -a
INSTALL_FILE  = $(COPY_FILE)
INSTALL_DIR   = $(COPY_DIR)
DEL_FILE      = rm -f
MAK_DIR		  = mkdir
DEL_DIR       = rm -rf

#include files path
INCPATH    = -I../inc -I../../../Include -I../../../../RTOS/Include -I../../../../common/include -I../../../../layer1/export/inc -I../../../../Ref/Source/base/inc -I../../../../MM_Ref/Source/dv/inc -I../../../../MM_Ref/Source/drv_SC8800H/h

####### Files

SOURCES       = umod_config.c umod_drv.c umod_handler.c umod_main.c

OBJECTS       = umod_config.o umod_drv.o umod_handler.o umod_main.o


TARGET        = umod.a

all: $(OBJECTS)
	$(AR) $(ARFLAGS) $(TARGET) $(OBJECTS)

.c.o:
ifeq "$(ARMCC)" "armcc"
	$(ARMCC) $(CFLAGS) $(MODULE_OPT) -c $(INCPATH) $< -o $@
else
	$(CC) $(WARNFLAGS) $(CFLAGS) -c $(INCPATH) $< -o $@
endif

.PHONY:clean
clean:
	$(DEL_FILE) *.o $(TARGET)

